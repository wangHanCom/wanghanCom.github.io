<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>devServer | 汪涵的博客</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link>
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.98136e72.css" as="style"><link rel="preload" href="/assets/js/app.df490d21.js" as="script"><link rel="preload" href="/assets/js/2.9235f093.js" as="script"><link rel="preload" href="/assets/js/30.f97becd7.js" as="script"><link rel="prefetch" href="/assets/js/10.92f448a7.js"><link rel="prefetch" href="/assets/js/11.d81451ab.js"><link rel="prefetch" href="/assets/js/12.fe657e2d.js"><link rel="prefetch" href="/assets/js/13.673f55af.js"><link rel="prefetch" href="/assets/js/14.33419792.js"><link rel="prefetch" href="/assets/js/15.ab408685.js"><link rel="prefetch" href="/assets/js/16.41231623.js"><link rel="prefetch" href="/assets/js/17.f98cb10c.js"><link rel="prefetch" href="/assets/js/18.dc28497a.js"><link rel="prefetch" href="/assets/js/19.3bd23e42.js"><link rel="prefetch" href="/assets/js/20.48e0bcc4.js"><link rel="prefetch" href="/assets/js/21.4ca137be.js"><link rel="prefetch" href="/assets/js/22.fe35d04c.js"><link rel="prefetch" href="/assets/js/23.e2151993.js"><link rel="prefetch" href="/assets/js/24.42cdd1be.js"><link rel="prefetch" href="/assets/js/25.2ef590fe.js"><link rel="prefetch" href="/assets/js/26.88fd7535.js"><link rel="prefetch" href="/assets/js/27.aefa961a.js"><link rel="prefetch" href="/assets/js/28.5b4073a9.js"><link rel="prefetch" href="/assets/js/29.4c27b4b2.js"><link rel="prefetch" href="/assets/js/3.74014b60.js"><link rel="prefetch" href="/assets/js/31.92fc7f70.js"><link rel="prefetch" href="/assets/js/32.d7c4f275.js"><link rel="prefetch" href="/assets/js/33.8d2027ca.js"><link rel="prefetch" href="/assets/js/34.adb9aee5.js"><link rel="prefetch" href="/assets/js/35.34cb4c23.js"><link rel="prefetch" href="/assets/js/4.ddf5fb83.js"><link rel="prefetch" href="/assets/js/5.2f6ceb2d.js"><link rel="prefetch" href="/assets/js/6.acebe267.js"><link rel="prefetch" href="/assets/js/7.4f5a488b.js"><link rel="prefetch" href="/assets/js/8.d3b85309.js"><link rel="prefetch" href="/assets/js/9.395837cf.js">
    <link rel="stylesheet" href="/assets/css/0.styles.98136e72.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">汪涵的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>js</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>webpack</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/webpack/devServer.html" aria-current="page" class="active sidebar-link">devServer</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webpack/devServer.html#安装配置" class="sidebar-link">安装配置</a></li><li class="sidebar-sub-header"><a href="/webpack/devServer.html#启动" class="sidebar-link">启动</a></li><li class="sidebar-sub-header"><a href="/webpack/devServer.html#其他配置项" class="sidebar-link">其他配置项</a></li></ul></li><li><a href="/webpack/import.html" class="sidebar-link">webpack全局引入的问题</a></li><li><a href="/webpack/loader.html" class="sidebar-link">Loader</a></li><li><a href="/webpack/package.html" class="sidebar-link">webpack 基础</a></li><li><a href="/webpack/splitCode.html" class="sidebar-link">代码分割</a></li><li><a href="/webpack/project.html" class="sidebar-link">工程化</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="devserver"><a href="#devserver" class="header-anchor">#</a> devServer</h1> <h2 id="安装配置"><a href="#安装配置" class="header-anchor">#</a> 安装配置</h2> <p>安装webpack-dev-server</p> <div class="language- extra-class"><pre class="language-text"><code>//安装
npm install webpack-dev-server -D

</code></pre></div><p>webpack文件配置devserver</p> <div class="language- extra-class"><pre class="language-text"><code>//在webpack.config.js中配置
module.exports={
    devServer:{//开发服务器的配置
        port:3000,               //指定运行的端口号
        progress:true,           //显示打包的进度条
        contentBase:'./build',   //打开指定目录
        compress:true,           //启动压缩
    },
}
</code></pre></div><h2 id="启动"><a href="#启动" class="header-anchor">#</a> 启动</h2> <p>启动webpack-dev-server有2种方式：</p> <ul><li>通过cmd line</li> <li>通过Node.js API</li></ul> <p>方式一：在cmd直接运行</p> <div class="language- extra-class"><pre class="language-text"><code>//运行
npx webpack-dev-server // ==&gt; Project is running at http://localhost:8080/   运行后只加载到根目录
</code></pre></div><p>输出结果</p> <div class="language- extra-class"><pre class="language-text"><code>➜  webpack-code-splitting-demo-code-splitting npx webpack-dev-server
Project is running at http://localhost:8080/
webpack output is served from /
404s will fallback to /index.html
</code></pre></div><p>方式二：在package.json中配置</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;scripts&quot;: {
    &quot;dev&quot;:&quot;webpack-dev-server&quot;
  },
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>npm run dev //运行
</code></pre></div><h2 id="其他配置项"><a href="#其他配置项" class="header-anchor">#</a> 其他配置项</h2> <h3 id="contentbase"><a href="#contentbase" class="header-anchor">#</a> contentBase</h3> <p>devServer.contentBase 配置 DevServer HTTP 服务器的文件根目录。 默认情况下为当前执行目录，通常是项目根目录，所有一般情况下你不必设置它，除非你有额外的文件需要被 DevServer 服务。</p> <p>cmd</p> <div class="language- extra-class"><pre class="language-text"><code>webpack-dev-server --content-base ./dist
</code></pre></div><p>配置文件</p> <div class="language- extra-class"><pre class="language-text"><code>//在webpack.config.js中配置
module.exports={
    devServer:{//开发服务器的配置
        contentBase:'./build',   //打开指定目录
    },
}
</code></pre></div><p>以上任选一种方式</p> <p>输出结果</p> <div class="language- extra-class"><pre class="language-text"><code>➜  webpack-code-splitting-demo-code-splitting npx webpack-dev-server --content-base ./dist
Project is running at http://localhost:8080/
webpack output is served from /
Content not from webpack is served from /Users/wanghan/实战/webpack打包练习/webpack-code-splitting-demo-code-splitting/dist
404s will fallback to /index.html
</code></pre></div><h3 id="自动刷新"><a href="#自动刷新" class="header-anchor">#</a> 自动刷新</h3> <p>webpack-dev-server支持2种自动刷新的方式：</p> <ul><li>Iframe mode</li> <li>inline mode</li></ul> <p>DevServer 的实时预览功能==依赖一个注入到页面里的代理客户端去接受来自 DevServer 的命令和负责刷新网页的工作。==
Iframe mode和Inline mode最后达到的效果都是一样的，都是监听文件的变化，然后再将编译后的文件推送到前端，完成页面的reload的。</p> <h4 id="inline"><a href="#inline" class="header-anchor">#</a> inline</h4> <p>devServer.inline 用于配置是否自动注入这个代理客户端到将运行在页面里的 Chunk 里去，默认是会自动注入。如果开启 inline，DevServer 会在构建完变化后的代码时通过代理客户端控制网页刷新。
使用inline mode的时候，cmd line需要写成：</p> <div class="language- extra-class"><pre class="language-text"><code>webpack-dev-server --inline
</code></pre></div><p>访问地址</p> <div class="language- extra-class"><pre class="language-text"><code>localhost:8080/index.html
</code></pre></div><p>输出结果</p> <div class="language- extra-class"><pre class="language-text"><code>➜  webpack-code-splitting-demo-code-splitting npx webpack-dev-server --inline
Project is running at http://localhost:8080/
webpack output is served from /
404s will fallback to /index.html
</code></pre></div><h4 id="iframe"><a href="#iframe" class="header-anchor">#</a> iframe</h4> <p>通过 iframe 的方式去运行要开发的网页，当构建完变化后的代码时通过刷新 iframe 来实现实时预览。 但这时你需要去 <code>http://localhost:8080/webpack-dev-server/</code> 实时预览你的网页了。Iframe mode是在网页中嵌入了一个iframe，将我们自己的应用注入到这个iframe当中去，因此每次你修改的文件后，都是这个iframe进行了reload。（原理不理解）</p> <p>使用iframe访问时</p> <div class="language- extra-class"><pre class="language-text"><code>//在webpack.config.js中配置
module.exports={
    devServer:{//开发服务器的配置
        inline:false,  //关闭line，默认开启iframe
    },
}
</code></pre></div><p>访问地址</p> <div class="language- extra-class"><pre class="language-text"><code>localhost:8080/webpack-dev-server/
</code></pre></div><p>输出结果</p> <div class="language- extra-class"><pre class="language-text"><code>➜  webpack-code-splitting-demo-code-splitting npx webpack-dev-server
Project is running at http://localhost:8080/webpack-dev-server/
webpack output is served from /
404s will fallback to /index.html
</code></pre></div><h3 id="hot"><a href="#hot" class="header-anchor">#</a> hot</h3> <p>devServer.hot 配置是否启用模块热替换功能。 DevServer 默认的行为是在发现源代码被更新后会通过自动刷新整个页面来做到实时预览，开启模块热替换功能后将==在不刷新整个页面的情况下通过用新模块替换老模块来做到实时预览==。除了通过重新刷新整个网页来实现实时预览，DevServer 还有一种被称作模块热替换的刷新技术。 模块热替换能做到在不重新加载整个网页的情况下，通过将被更新过的模块替换老的模块，再重新执行一次来实现实时预览。 模块热替换相对于默认的刷新机制能提供更快的响应和更好的开发体验。（问题：与动态刷新的区别）</p> <h3 id="其他配置项-2"><a href="#其他配置项-2" class="header-anchor">#</a> 其他配置项</h3> <div class="language- extra-class"><pre class="language-text"><code>--quiet 控制台中不输出打包的信息
--compress 开启gzip压缩
--progress 显示打包的进度
</code></pre></div><p>参考链接</p> <ul><li><a href="https://segmentfault.com/a/1190000006670084" target="_blank" rel="noopener noreferrer">webpack-dev-server使用方法，看完还不会的来找我~<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://www.xbhub.com/wiki/webpack/2%E9%85%8D%E7%BD%AE/2-6DevServer.html" target="_blank" rel="noopener noreferrer">2-6DevServer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vueDoc/bindData.html" class="prev">
        vue双向绑定
      </a></span> <span class="next"><a href="/webpack/import.html">
        webpack全局引入的问题
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.df490d21.js" defer></script><script src="/assets/js/2.9235f093.js" defer></script><script src="/assets/js/30.f97becd7.js" defer></script>
  </body>
</html>
